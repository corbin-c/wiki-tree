{"version":3,"sources":["wikiApi.js","components/search-input.js","components/lang-select.js","components/search-form.js","components/splash.js","components/drawer-views/locate.js","components/drawer-views/article.js","components/drawer-views/settings.js","components/drawer-views/category.js","components/graph.js","components/drawer-views/addSearch.js","components/drawer.js","components/toolbar.js","App.js","reducers/init.js","reducers/worker.js","reducers/drawer.js","reducers/settings.js","reducer.js","store.js","index.js"],"names":["WikiAPI","lang","this","baseUrl","options","getParameters","format","utf8","origin","redirects","Object","keys","map","e","join","pageids","newOptions","pageid","url","cmpageid","fetcher","a","results","nextBatch","finished","lastContinue","continueKey","filter","includes","continueString","push","fetch","json","continue","query","SearchInput","props","handleChanges","id","useState","searchString","setSearchString","resultsList","setResults","timer","useRef","performSearch","input","wiki","length","buildRequest","action","list","srsearch","srnamespace","srlimit","search","setTimeout","focus","console","error","triggerChange","value","htmlFor","autoFocus","autoComplete","onChange","stopImmediatePropagation","stopPropagation","target","clearTimeout","current","type","className","item","title","LangSelect","defaultLang","navigator","language","split","defaultValue","SearchForm","dispatch","useDispatch","useSelector","state","init","submit","event","preventDefault","onSubmit","payload","key","onClick","Splash","start","src","alt","Locate","worker","useEffect","message","targetNode","find","node","name","alert","entity","postMessage","Article","extract","setExtract","categories","setCategories","links","setLinks","backlinks","setBacklinks","relations","relationsList","sub","api","prop","exintro","exlimit","pages","adjacent","edgeEntity","dangerouslySetInnerHTML","open","href","rel","Settings","settings","updateSettings","max","min","parseInt","nodeRepulsion","step","parseFloat","curvature","checked","arrows","Category","setNode","catMembers","slice","AddSearch","handleSubmit","log","Drawer","content","drawer","handleActions","component","getContent","ToolBar","window","confirm","reset","Graph","idle","setIdle","nodes","graphData","setGraphData","edges","highlight","setHighlight","drawerAction","bloom","fgRef","workerDispatch","workerCallback","createNode","ns","articlesLookup","lhOptions","plOptions","clOptions","generator","glhlimit","glhnamespace","gpllimit","gplnamespace","gcllimit","gclshow","forEach","lookup","ids","callback","getResults","next","r","resultsGenerator","fetchAndContinue","focusNode","distRatio","Math","hypot","x","y","z","cameraPosition","wikiAPI","oldNodes","JSON","stringify","graph","actionInput","cmlimit","cmtype","categoriesLookup","d3Force","strength","d3ReheatSimulation","onEngineStop","linkOpacity","linkColor","linkCurvature","onNodeHover","edgeId","nodeHover","onNodeClick","ref","nodeColor","linkDirectionalArrowLength","linkDirectionalArrowRelPos","nodeOpacity","backgroundColor","Worker","App","onmessage","data","initReducer","workerReducer","drawerReducer","settingsReducer","initialState","store","createStore","warn","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1bbcb8b0.chunk.js","sourcesContent":["const WikiAPI = class {\n  constructor(lang) {\n    this.baseUrl = `https://${lang}.wikipedia.org/w/api.php?`;\n  }\n  buildRequest(options) {\n    const getParameters = (options) => {\n      options.format = \"json\";\n      options.utf8 = true;\n      options.origin = \"*\";\n      options.redirects = true;\n      return Object.keys(options).map(e => {\n        return e+\"=\"+((typeof options[e] === \"object\")\n          ? options[e].join(\"|\")\n          : options[e])\n      }).join(\"&\");\n    }\n    if ((options.pageids) && (typeof options.pageids === \"object\")) {\n      return options.pageids.map(e => {\n        const newOptions = {...options, pageids: e};\n        return {\n          pageid: e,\n          url: this.baseUrl+getParameters(newOptions)\n        };\n      });\n    }\n    return [{\n      pageid: options.pageids,\n      cmpageid: options.cmpageid,\n      url: this.baseUrl+getParameters(options)\n    }];\n  }\n  fetchAndContinue(url) {\n    return (async function*(url,fetcher) {\n      let results = true;\n      let nextBatch = true;\n      let finished = [];\n      let lastContinue = \"\";\n      while (typeof nextBatch !== \"undefined\") {\n        let continueKey = Object.keys(nextBatch)\n          .filter(e => !finished.includes(e))[0];\n        if ((nextBatch !== true)\n        && ((typeof continueKey === \"undefined\")\n          || continueKey === \"continue\")) {\n          yield undefined;\n        }\n        let continueString = ((results === true) && (nextBatch === true))\n          ? \"\"\n          : \"&\"\n            +(continueKey)\n            +\"=\"\n            +nextBatch[continueKey];\n        if (typeof continueKey !== \"undefined\") {\n          if ((lastContinue !== continueKey)\n            && (lastContinue !== \"\")) {\n            finished.push(lastContinue);\n          }\n          lastContinue = continueKey;\n        }\n        results = await fetch(url+continueString);\n        results = await results.json();\n        nextBatch = results.continue;\n        yield results.query;\n      }\n    })(url,this.fetcher);\n  }\n};\n\nexport default WikiAPI;\n","import React, { useState, useRef } from \"react\";\nimport WikiAPI from \"../wikiApi.js\";\n\nfunction SearchInput(props) {\n  const { handleChanges, lang, id } = props;\n  const [searchString,setSearchString] = useState(\"\");\n  const [resultsList,setResults] = useState([]);\n  const timer = useRef(null);\n  const WAIT_INTERVAL = 1000;\n\n  const displaySearchResults = () => {\n    return resultsList.map((item) => {\n      return <option\n        value={ item.title }\n        key={ item.pageid }>\n          { item.title }\n        </option>\n    });\n  }\n\n  const performSearch = async (searchString, input) => {\n    const wiki = new WikiAPI(lang);\n    if (searchString.length > 0) {\n      //perform full text search\n      const url = wiki.buildRequest({\n        action:\"query\",\n        list:\"search\",\n        srsearch:searchString,\n        srnamespace:0,\n        srlimit:10\n      })[0].url;\n      try {\n        let results = await fetch(url);\n        results = await results.json();\n        results = results.query.search;\n        setResults(results);\n        setTimeout(() => {\n          input.focus();\n        }, 10);\n      } catch(e) {\n        console.error(e);\n      }\n    } else {\n      setResults([]);\n    }\n  }\n\n  const inputChange = (e) => {\n    if (e.stopImmediatePropagation) {\n      e.stopImmediatePropagation();\n    }\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    }\n    setSearchString(e.target.value);\n    clearTimeout(timer.current);\n    handleChanges(e.target.value);\n    timer.current = setTimeout(() => {\n      triggerChange(e.target.value, e.target);\n    }, WAIT_INTERVAL);\n  }\n\n  const triggerChange = (value, input) => {\n    performSearch(value, input);\n  }\n\n  return (\n    <>\n      <label htmlFor={ \"searchInput\"+id }>Search terms:</label>\n      <input\n        autoFocus={ true }\n        autoComplete=\"off\"\n        id={ \"searchInput\"+id }\n        onChange={ inputChange }\n        type=\"search\"\n        list={ \"results\"+id }\n        value={ searchString }\n        className=\"textInput\"\n      />\n      {\n        resultsList.length > 0 ?\n        (<datalist id={ \"results\"+id }>\n          { displaySearchResults() }\n        </datalist>)\n        : (<></>)\n      }\n    </>\n  )\n}\n\nexport default SearchInput;\n","const lang = [[\"Ac√®h\",\"ace\"],\n              [\"Afrikaans\",\"af\"],\n              [\"Akan\",\"ak\"],\n              [\"Alemannisch\",\"als\"],\n              [\"aragon√©s\",\"an\"],\n              [\"arm√£neashti\",\"roa-rup\"],\n              [\"arpetan\",\"frp\"],\n              [\"asturianu\",\"ast\"],\n              [\"Atikamekw\",\"atj\"],\n              [\"Ava√±e ·∫Ω\",\"gn\"],\n              [\"Aymar aru\",\"ay\"],\n              [\"az…ôrbaycanca\",\"az\"],\n              [\"Bahasa Banjar\",\"bjn\"],\n              [\"Bahasa Hulontalo\",\"gor\"],\n              [\"Bahasa Indonesia\",\"id\"],\n              [\"Bahasa Melayu\",\"ms\"],\n              [\"bamanankan\",\"bm\"],\n              [\"Basa Banyumasan\",\"map-bms\"],\n              [\"Basa Jawa\",\"jv\"],\n              [\"Basa Sunda\",\"su\"],\n              [\"Baso Minangkabau\",\"min\"],\n              [\"Bikol Central\",\"bcl\"],\n              [\"Bislama\",\"bi\"],\n              [\"Boarisch\",\"bar\"],\n              [\"bosanski\",\"bs\"],\n              [\"brezhoneg\",\"br\"],\n              [\"B√¢n-l√¢m-g√∫\",\"zh-min-nan\"],\n              [\"catal√†\",\"ca\"],\n              [\"Cebuano\",\"ceb\"],\n              [\"Chamoru\",\"ch\"],\n              [\"Chavacano de Zamboanga\",\"cbk-zam\"],\n              [\"Chi-Chewa\",\"ny\"],\n              [\"chiShona\",\"sn\"],\n              [\"chiTumbuka\",\"tum\"],\n              [\"Choctaw\",\"cho\"],\n              [\"corsu\",\"co\"],\n              [\"Cymraeg\",\"cy\"],\n              [\"dansk\",\"da\"],\n              [\"davvis√°megiella\",\"se\"],\n              [\"Deitsch\",\"pdc\"],\n              [\"Deutsch\",\"de\"],\n              [\"Din√© bizaad\",\"nv\"],\n              [\"dolnoserbski\",\"dsb\"],\n              [\"Dorerin Naoero\",\"na\"],\n              [\"Ebon\",\"mh\"],\n              [\"eesti\",\"et\"],\n              [\"emili√†n e rumagn√≤l\",\"eml\"],\n              [\"English\",\"en\"],\n              [\"espa√±ol\",\"es\"],\n              [\"Esperanto\",\"eo\"],\n              [\"estreme√±u\",\"ext\"],\n              [\"euskara\",\"eu\"],\n              [\"e ãegbe\",\"ee\"],\n              [\"Fiji Hindi\",\"hif\"],\n              [\"fran√ßais\",\"fr\"],\n              [\"Frysk\",\"fy\"],\n              [\"Fulfulde\",\"ff\"],\n              [\"furlan\",\"fur\"],\n              [\"f√∏royskt\",\"fo\"],\n              [\"Gaeilge\",\"ga\"],\n              [\"Gaelg\",\"gv\"],\n              [\"Gagana Samoa\",\"sm\"],\n              [\"Gagauz\",\"gag\"],\n              [\"galego\",\"gl\"],\n              [\"G√†idhlig\",\"gd\"],\n              [\"Gƒ©k≈©y≈©\",\"ki\"],\n              [\"Hausa\",\"ha\"],\n              [\"Hawai ªi\",\"haw\"],\n              [\"Hiri Motu\",\"ho\"],\n              [\"hornjoserbsce\",\"hsb\"],\n              [\"hrvatski\",\"hr\"],\n              [\"Ido\",\"io\"],\n              [\"Igbo\",\"ig\"],\n              [\"Ilokano\",\"ilo\"],\n              [\"interlingua\",\"ia\"],\n              [\"Interlingue\",\"ie\"],\n              [\"isiXhosa\",\"xh\"],\n              [\"isiZulu\",\"zu\"],\n              [\"italiano\",\"it\"],\n              [\"I√±upiak\",\"ik\"],\n              [\"Kab…©y…õ\",\"kbp\"],\n              [\"kalaallisut\",\"kl\"],\n              [\"Kanuri\",\"kr\"],\n              [\"Kapampangan\",\"pam\"],\n              [\"kasz√´bsczi\",\"csb\"],\n              [\"kernowek\",\"kw\"],\n              [\"Kinyarwanda\",\"rw\"],\n              [\"Kirundi\",\"rn\"],\n              [\"Kiswahili\",\"sw\"],\n              [\"Kongo\",\"kg\"],\n              [\"Krey√≤l ayisyen\",\"ht\"],\n              [\"kurd√Æ\",\"ku\"],\n              [\"Kwanyama\",\"kj\"],\n              [\"la .lojban.\",\"jbo\"],\n              [\"Ladino\",\"lad\"],\n              [\"latgaƒºu\",\"ltg\"],\n              [\"Latina\",\"la\"],\n              [\"latvie≈°u\",\"lv\"],\n              [\"lea faka-Tonga\",\"to\"],\n              [\"lietuvi≈≥\",\"lt\"],\n              [\"Ligure\",\"lij\"],\n              [\"Limburgs\",\"li\"],\n              [\"Lingua Franca Nova\",\"lfn\"],\n              [\"ling√°la\",\"ln\"],\n              [\"Livvinkarjala\",\"olo\"],\n              [\"Luganda\",\"lg\"],\n              [\"lumbaart\",\"lmo\"],\n              [\"L√´tzebuergesch\",\"lb\"],\n              [\"magyar\",\"hu\"],\n              [\"Malagasy\",\"mg\"],\n              [\"Malti\",\"mt\"],\n              [\"Mirand√©s\",\"mwl\"],\n              [\"Mvskoke\",\"mus\"],\n              [\"M√¨ng-dƒïÃ§ng-ng·π≥ÃÑ\",\"cdo\"],\n              [\"MƒÅori\",\"mi\"],\n              [\"Na Vosa Vakaviti\",\"fj\"],\n              [\"Napulitano\",\"nap\"],\n              [\"Nederlands\",\"nl\"],\n              [\"Nedersaksies\",\"nds-nl\"],\n              [\"Nordfriisk\",\"frr\"],\n              [\"Norfuk / Pitkern\",\"pih\"],\n              [\"norsk\",\"no\"],\n              [\"norsk nynorsk\",\"nn\"],\n              [\"Nouormand\",\"nrm\"],\n              [\"Novial\",\"nov\"],\n              [\"NƒÅhuatl\",\"nah\"],\n              [\"Nƒìhiyawƒìwin / ·ìÄ·ê¶·êÉ·î≠·êç·êè·ê£\",\"cr\"],\n              [\"occitan\",\"oc\"],\n              [\"Oromoo\",\"om\"],\n              [\"Oshiwambo\",\"ng\"],\n              [\"Otsiherero\",\"hz\"],\n              [\"o ªzbekcha/—û–∑–±–µ–∫—á–∞\",\"uz\"],\n              [\"Pangasinan\",\"pag\"],\n              [\"Papiamentu\",\"pap\"],\n              [\"Patois\",\"jam\"],\n              [\"Picard\",\"pcd\"],\n              [\"Piemont√®is\",\"pms\"],\n              [\"Plattd√º√ºtsch\",\"nds\"],\n              [\"polski\",\"pl\"],\n              [\"portugu√™s\",\"pt\"],\n              [\"P√§lzisch\",\"pfl\"],\n              [\"Qaf√°r af\",\"aa\"],\n              [\"Qaraqalpaqsha\",\"kaa\"],\n              [\"qƒ±rƒ±mtatarca\",\"crh\"],\n              [\"reo tahiti\",\"ty\"],\n              [\"Ripoarisch\",\"ksh\"],\n              [\"Romani\",\"rmy\"],\n              [\"rom√¢nƒÉ\",\"ro\"],\n              [\"rumantsch\",\"rm\"],\n              [\"Runa Simi\",\"qu\"],\n              [\"sardu\",\"sc\"],\n              [\"Scots\",\"sco\"],\n              [\"Seeltersk\",\"stq\"],\n              [\"Sesotho\",\"st\"],\n              [\"Sesotho sa Leboa\",\"nso\"],\n              [\"Setswana\",\"tn\"],\n              [\"shqip\",\"sq\"],\n              [\"sicilianu\",\"scn\"],\n              [\"Simple English\",\"simple\"],\n              [\"SiSwati\",\"ss\"],\n              [\"slovenƒçina\",\"sk\"],\n              [\"sloven≈°ƒçina\",\"sl\"],\n              [\"Soomaaliga\",\"so\"],\n              [\"Sranantongo\",\"srn\"],\n              [\"srpskohrvatski / —Å—Ä–ø—Å–∫–æ—Ö—Ä–≤–∞—Ç—Å–∫–∏\",\"sh\"],\n              [\"suomi\",\"fi\"],\n              [\"svenska\",\"sv\"],\n              [\"S√§ng√∂\",\"sg\"],\n              [\"Tagalog\",\"tl\"],\n              [\"Taqbaylit\",\"kab\"],\n              [\"tarand√≠ne\",\"roa-tara\"],\n              [\"tetun\",\"tet\"],\n              [\"Thu…î≈ãj√§≈ã\",\"din\"],\n              [\"Ti·∫øng Vi·ªát\",\"vi\"],\n              [\"Tok Pisin\",\"tpi\"],\n              [\"Tsets√™hest√¢hese\",\"chy\"],\n              [\"Tshivenda\",\"ve\"],\n              [\"Twi\",\"tw\"],\n              [\"T√ºrkmen√ße\",\"tk\"],\n              [\"T√ºrk√ße\",\"tr\"],\n              [\"Vahcuengh\",\"za\"],\n              [\"veps√§n kel\",\"vep\"],\n              [\"Volap√ºk\",\"vo\"],\n              [\"v√®neto\",\"vec\"],\n              [\"V√µro\",\"fiu-vro\"],\n              [\"walon\",\"wa\"],\n              [\"West-Vlams\",\"vls\"],\n              [\"Winaray\",\"war\"],\n              [\"Wolof\",\"wo\"],\n              [\"Xitsonga\",\"ts\"],\n              [\"Yor√πb√°\",\"yo\"],\n              [\"Zazaki\",\"diq\"],\n              [\"Ze√™uws\",\"zea\"],\n              [\"√Ünglisc\",\"ang\"],\n              [\"√≠slenska\",\"is\"],\n              [\"ƒçe≈°tina\",\"cs\"],\n              [\"≈õl≈Ønski\",\"szl\"],\n              [\"≈æemaitƒó≈°ka\",\"bat-smg\"],\n              [\"ŒïŒªŒªŒ∑ŒΩŒπŒ∫Œ¨\",\"el\"],\n              [\"Œ†ŒøŒΩœÑŒπŒ±Œ∫Œ¨\",\"pnt\"],\n              [\"–∞–≤–∞—Ä\",\"av\"],\n              [\"–∞–¥—ã–≥–∞–±–∑—ç\",\"ady\"],\n              [\"–ê–¥—ã–≥—ç–±–∑—ç\",\"kbd\"],\n              [\"–ê“ß—Å—à”ô–∞\",\"ab\"],\n              [\"–±–∞—à“°–æ—Ä—Ç—Å–∞\",\"ba\"],\n              [\"–±–µ–ª–∞—Ä—É—Å–∫–∞—è\",\"be\"],\n              [\"–±–µ–ª–∞—Ä—É—Å–∫–∞—è (—Ç–∞—Ä–∞—à–∫–µ–≤—ñ—Ü–∞)‚Äé\",\"be-tarask\"],\n              [\"–±—É—Ä—è–∞–¥\",\"bxr\"],\n              [\"–±—ä–ª–≥–∞—Ä—Å–∫–∏\",\"bg\"],\n              [\"–ì”Ä–∞–ª–≥”Ä–∞–π\",\"inh\"],\n              [\"–ò—Ä–æ–Ω\",\"os\"],\n              [\"–∫–æ–º–∏\",\"kv\"],\n              [\"–∫—ä–∞—Ä–∞—á–∞–π-–º–∞–ª–∫—ä–∞—Ä\",\"krc\"],\n              [\"–ö—ã—Ä–≥—ã–∑—á–∞\",\"ky\"],\n              [\"–∫—ã—Ä—ã–∫ –º–∞—Ä—ã\",\"mrj\"],\n              [\"–ª–∞–∫–∫—É\",\"lbe\"],\n              [\"–ª–µ–∑–≥–∏\",\"lez\"],\n              [\"–º–∞–∫–µ–¥–æ–Ω—Å–∫–∏\",\"mk\"],\n              [\"–º–æ–∫—à–µ–Ω—å\",\"mdf\"],\n              [\"–º–æ–Ω–≥–æ–ª\",\"mn\"],\n              [\"–Ω–æ—Ö—á–∏–π–Ω\",\"ce\"],\n              [\"–æ–ª—ã–∫ –º–∞—Ä–∏–π\",\"mhr\"],\n              [\"–ü–µ—Ä–µ–º –ö–æ–º–∏\",\"koi\"],\n              [\"—Ä—É—Å–∏–Ω—å—Å–∫—ã–π\",\"rue\"],\n              [\"—Ä—É—Å—Å–∫–∏–π\",\"ru\"],\n              [\"—Å–∞—Ö–∞ —Ç—ã–ª–∞\",\"sah\"],\n              [\"—Å–ª–æ–≤—£–Ω—å—Å–∫—ä / ‚∞î‚∞é‚∞ë‚∞Ç‚∞°‚∞ê‚∞†‚∞î‚∞ç‚∞ü\",\"cu\"],\n              [\"—Å—Ä–ø—Å–∫–∏ / srpski\",\"sr\"],\n              [\"—Ç–∞—Ç–∞—Ä—á–∞/tatar√ßa\",\"tt\"],\n              [\"—Ç–æ“∑–∏–∫”£\",\"tg\"],\n              [\"—Ç—ã–≤–∞ –¥—ã–ª\",\"tyv\"],\n              [\"—É–¥–º—É—Ä—Ç\",\"udm\"],\n              [\"—É–∫—Ä–∞—ó–Ω—Å—å–∫–∞\",\"uk\"],\n              [\"—Ö–∞–ª—å–º–≥\",\"xal\"],\n              [\"–ß”ë–≤–∞—à–ª–∞\",\"cv\"],\n              [\"—ç—Ä–∑—è–Ω—å\",\"myv\"],\n              [\"“õ–∞–∑–∞“õ—à–∞\",\"kk\"],\n              [\"’∞’°’µ’•÷Ä’•’∂\",\"hy\"],\n              [\"◊ô◊ô÷¥◊ì◊ô◊©\",\"yi\"],\n              [\"◊¢◊ë◊®◊ô◊™\",\"he\"],\n              [\"ÿ¶€áŸäÿ∫€áÿ±⁄Ü€ï / Uyghurche\",\"ug\"],\n              [\"ÿßÿ±ÿØŸà\",\"ur\"],\n              [\"ÿßŸÑÿπÿ±ÿ®Ÿäÿ©\",\"ar\"],\n              [\"ÿ™€Üÿ±⁄©ÿ¨Ÿá\",\"azb\"],\n              [\"ÿ≥ŸÜ⁄åŸä\",\"sd\"],\n              [\"ŸÅÿßÿ±ÿ≥€å\",\"fa\"],\n              [\"ŸÑ€äÿ±€å ÿ¥ŸàŸÖÿßŸÑ€å\",\"lrc\"],\n              [\"ŸÖÿßÿ≤Ÿêÿ±ŸàŸÜ€å\",\"mzn\"],\n              [\"ŸÖÿµÿ±Ÿâ\",\"arz\"],\n              [\"ŸæŸÜÿ¨ÿßÿ®€å\",\"pnb\"],\n              [\"Ÿæ⁄öÿ™Ÿà\",\"ps\"],\n              [\"⁄©Ÿàÿ±ÿØ€å\",\"ckb\"],\n              [\"⁄Ø€åŸÑ⁄©€å\",\"glk\"],\n              [\"‹ê‹™‹°‹ù‹ê\",\"arc\"],\n              [\"ﬁãﬁ®ﬁàﬁ¨ﬁÄﬁ®ﬁÑﬁ¶ﬁêﬁ∞\",\"dv\"],\n              [\"‡§ï‡•â‡§∂‡•Å‡§∞ / ⁄©Ÿ≤ÿ¥Ÿèÿ±\",\"ks\"],\n              [\"‡§ó‡•ã‡§Ç‡§Ø‡§ö‡•Ä ‡§ï‡•ã‡§Ç‡§ï‡§£‡•Ä / G√µychi Konknni\",\"gom\"],\n              [\"‡§°‡•ã‡§ü‡•á‡§≤‡•Ä\",\"dty\"],\n              [\"‡§®‡•á‡§™‡§æ‡§≤ ‡§≠‡§æ‡§∑‡§æ\",\"new\"],\n              [\"‡§®‡•á‡§™‡§æ‡§≤‡•Ä\",\"ne\"],\n              [\"‡§™‡§æ‡§≤‡§ø\",\"pi\"],\n              [\"‡§≠‡•ã‡§ú‡§™‡•Å‡§∞‡•Ä\",\"bh\"],\n              [\"‡§Æ‡§∞‡§æ‡§†‡•Ä\",\"mr\"],\n              [\"‡§Æ‡•à‡§•‡§ø‡§≤‡•Ä\",\"mai\"],\n              [\"‡§∏‡§Ç‡§∏‡•ç‡§ï‡•É‡§§‡§Æ‡•ç\",\"sa\"],\n              [\"‡§π‡§ø‡§®‡•ç‡§¶‡•Ä\",\"hi\"],\n              [\"‡¶Ö‡¶∏‡¶Æ‡ßÄ‡¶Ø‡¶º‡¶æ\",\"as\"],\n              [\"‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ\",\"bn\"],\n              [\"‡¶¨‡¶ø‡¶∑‡ßç‡¶£‡ßÅ‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ ‡¶Æ‡¶£‡¶ø‡¶™‡ßÅ‡¶∞‡ßÄ\",\"bpy\"],\n              [\"‡®™‡©∞‡®ú‡®æ‡®¨‡©Ä\",\"pa\"],\n              [\"‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä\",\"gu\"],\n              [\"‡¨ì‡¨°‡¨º‡¨ø‡¨Ü\",\"or\"],\n              [\"‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç\",\"ta\"],\n              [\"‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å\",\"te\"],\n              [\"‡≤ï‡≤®‡≥ç‡≤®‡≤°\",\"kn\"],\n              [\"‡≤§‡≥Å‡≤≥‡≥Å\",\"tcy\"],\n              [\"‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç\",\"ml\"],\n              [\"‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω\",\"si\"],\n              [\"‡πÑ‡∏ó‡∏¢\",\"th\"],\n              [\"‡∫•‡∫≤‡∫ß\",\"lo\"],\n              [\"‡Ωá‡Ωº‡ΩÑ‡ºã‡ΩÅ\",\"dz\"],\n              [\"‡Ωñ‡Ωº‡Ωë‡ºã‡Ω°‡Ω≤‡ΩÇ\",\"bo\"],\n              [\"·Äô·Äº·Äî·Ä∫·Äô·Ä¨·Äò·Ä¨·Äû·Ä¨\",\"my\"],\n              [\"·Éõ·Éê·É†·Éí·Éê·Éö·É£·É†·Éò\",\"xmf\"],\n              [\"·É•·Éê·É†·Éó·É£·Éö·Éò\",\"ka\"],\n              [\"·âµ·åç·à≠·äõ\",\"ti\"],\n              [\"·ä†·àõ·à≠·äõ\",\"am\"],\n              [\"·êÉ·ìÑ·íÉ·ëé·ëê·ë¶/inuktitut\",\"iu\"],\n              [\"·ûó·û∂·ûü·û∂·ûÅ·üí·ûò·üÇ·ûö\",\"km\"],\n              [\"·®Ö·®î ·®ï·®ò·®Å·®ó\",\"bug\"],\n              [\"·±•·±ü·±±·±õ·±ü·±≤·±§\",\"sat\"],\n              [\"‰∏≠Êñá\",\"zh\"],\n              [\"Âê¥ËØ≠\",\"wuu\"],\n              [\"ÂÆ¢ÂÆ∂Ë™û/Hak-k√¢-ng√Æ\",\"hak\"],\n              [\"ÊñáË®Ä\",\"zh-classical\"],\n              [\"Êó•Êú¨Ë™û\",\"ja\"],\n              [\"Á≤µË™û\",\"zh-yue\"],\n              [\"Ë¥õË™û\",\"gan\"],\n              [\"ÍÜáÍâô\",\"ii\"],\n              [\"·è£·é≥·é©\",\"chr\"],\n              [\"ÌïúÍµ≠Ïñ¥\",\"ko\"],\n              [\"êå≤êåøêçÑêåπêçÉêå∫\",\"got\"]];\n              \nfunction LangSelect(props) {\n  const { handleChanges } = props;\n  const defaultLang = navigator.language.split(\"-\")[0] || \"en\";\n  const options = lang.map(e =>\n    <option key={ e[1] } value={ e[1] }>{ e[0] }</option>\n  );\n  return (\n    <>\n      <label htmlFor=\"lang\">Select your language:</label>\n      <select onChange={ e => handleChanges(e.target.value) } defaultValue={defaultLang}>{ options }</select>\n    </>\n  );\n}\nexport default LangSelect;\n","import SearchInput from \"./search-input.js\";\nimport LangSelect from \"./lang-select.js\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nfunction SearchForm(props) {\n  const dispatch = useDispatch();\n  const lang = useSelector(state => state.init.lang);\n  const submit = (event) => {\n    event.preventDefault();\n    dispatch({ type: \"init/start\" }); \n  }\n  const setLang = (value) => {\n    dispatch({ type: \"init/set\", payload: { key: \"lang\", value }});\n  }\n  const setSearchString = (value) => {\n    dispatch({ type: \"init/set\", payload: { key: \"searchString\", value }});\n  }\n  return (\n    <form onSubmit={ submit }>\n      <SearchInput id=\"main\" handleChanges={ setSearchString } lang={lang}/>\n      <LangSelect handleChanges={ setLang } />\n      <button className=\"btn\" onClick={ submit }>\n        <span className=\"material-icons-outlined\">search</span>Search\n      </button>\n    </form>\n  );\n}\n\nexport default SearchForm\n","import { useSelector } from \"react-redux\";\nimport SearchForm from \"./search-form.js\";\n\nfunction Splash(props) {\n  const init = useSelector(state => state.init);\n  return (\n    <section id=\"splash\" className={\n      (init.start === true\n        && init.lang !== \"\"\n        && init.searchString !== \"\")\n        ? \"hidden\"\n        :\"\"\n      }>\n      <h1>Welcome to Wiki-Tree!</h1>\n      <p>select your language and start exploring</p>\n      <img src=\"./logo.svg\" alt=\"Wiki-Tree logo\" />\n      <SearchForm />\n      <p className=\"wt-info\">\n        Wiki-Tree is a project by Cl√©ment Corbin aimed at\n        providing a visual exploration of Wikipedia. It draws a 3d force graph\n        representing articles and their relations.\n      </p>\n    </section>\n  );\n}\n\nexport default Splash\n","import { useSelector } from \"react-redux\";\nimport React, { useState, useEffect } from \"react\";\n\nfunction Locate(props) {\n  const {\n    action,\n  } = props;\n  const worker = useSelector(state => state.worker);\n  const [results,setResults] = useState([]);\n  const [searchString,setSearchString] = useState(\"\");\n  const displaySearchResults = () => {\n    return results.map((item) => {\n      return <option\n        value={ item.name }\n        key={ item.id }>\n          { item.name }\n        </option>\n    });\n  }\n  const inputChange = (e) => {\n    setSearchString(e.target.value);\n    worker.entity.postMessage({ action: \"search\", options: { searchString } });\n  }\n  useEffect(() => {\n    if (worker.message.search) {\n      setResults(worker.message.search);\n    }\n  },[worker.message]);\n  const submit = (e) => {\n    e.preventDefault();\n    let targetNode;\n    targetNode = results.find(node => node.name === searchString);\n    if (typeof targetNode !== \"undefined\") {\n      action({ action: \"focusNode\", options: { node:targetNode }});\n    } else {\n      alert(\"node not found: \"+searchString);\n    }\n  }\n  return (\n    <form onSubmit={ submit }>\n      <label htmlFor={ \"searchInput\" }>Search terms:</label>\n      <input\n        id={ \"locate\" }\n        onChange={ inputChange }\n        type=\"search\"\n        list={ \"locateresults\" }\n        value={ searchString }\n        className=\"textInput\"\n      />\n      <datalist id={ \"locateresults\" }>\n        { displaySearchResults() }\n      </datalist>\n      <button className=\"btn\" onClick={ submit }>\n        <span className=\"material-icons-outlined\">location_searching</span>Search\n      </button>\n    </form>\n  )\n}\n\nexport default Locate;\n","import React, { useState, useEffect } from \"react\";\nimport WikiAPI from \"../../wikiApi.js\";\nimport { useSelector } from \"react-redux\";\n\nfunction Article(props) {\n  const {\n    lang,\n    id,\n    action\n  } = props;\n  const worker = useSelector(state => state.worker);\n  const [extract, setExtract] = useState(\"\");\n  const [categories,setCategories] = useState([]);\n  const [links,setLinks] = useState([]);\n  const [backlinks,setBacklinks] = useState([]);\n\n  const focus = (node) => {\n    action({ action: \"focusNode\", options: { node }});\n  }\n\n  const relations = (relationsList) => {\n    return relationsList.map(sub => {\n      return (<li key={ sub.id } onClick={ () => { focus(sub) } }>\n        { sub.name }\n      </li>)\n    });\n  }\n\n  useEffect(() => {\n    (async () => {\n      const api = new WikiAPI(lang);\n      const url = api.buildRequest({\n          action:\"query\",\n          pageids:[id],\n          prop:\"extracts\",\n          exintro: true,\n          exlimit:1\n        })[0].url;\n        let results = await fetch(url);\n        results = await results.json();\n        results = results.query.pages[id];\n        setExtract(results.extract);\n    })();\n  }, [id, lang]);\n  \n  useEffect(() => {\n    worker.entity.postMessage({ action: \"getNode\", options: { id }});\n  },[id]);\n\n  useEffect(() => {\n    if (worker.message.node && worker.message.node.id === id) {\n      setCategories(worker.message.node.adjacent.filter(e => e.edgeEntity === \"taxonomy\"));\n      setLinks(worker.message.node.adjacent.filter(e => e.edgeEntity === \"outlink\"));\n      setBacklinks(worker.message.node.adjacent.filter(e => e.edgeEntity === \"backlink\"));\n    }\n  },[worker.message]);\n  /* return an extract from WP,\n   * a button to expand node (eg find cateogries / links)\n   * a button to delete\n   * an ordered/clickable list of siblings\n   */\n  return (<>\n    <article dangerouslySetInnerHTML={ { \"__html\": extract } } />\n    <article>\n      { (categories.length > 0)\n        ? (<details open={true}>\n            <summary>Categories:</summary>\n            <ul>\n              { relations(categories) }\n            </ul>\n          </details>)\n        : (<></>)\n      }\n      { (links.length > 0)\n        ? (<details open={true}>\n            <summary>Links:</summary>\n            <ul>\n              { relations(links) }\n            </ul>\n          </details>)\n        : (<></>)\n      }\n      { (backlinks.length > 0)\n        ? (<details open={true}>\n            <summary>Backlinks:</summary>\n            <ul>\n              { relations(backlinks) }\n            </ul>\n          </details>)\n        : (<></>)\n      }\n    </article>\n    <div className=\"buttons\">\n      <button title=\"Expand node\" onClick={ () => {\n        action( { action: \"articlesLookup\", options: { pageids: [id] } });\n      }}>\n        <span className=\"material-icons-outlined\">zoom_out_map</span>\n      </button>\n      <button title=\"Delete node\" onClick={ () => {\n        action( { action: \"removeNode\", options: { id } });\n      }}>\n        <span className=\"material-icons-outlined\">delete</span>\n      </button>\n      <a href={ \"https://\"+lang+\".wikipedia.org/?curid=\"+id } rel=\"noreferrer\" target=\"_blank\" title=\"View this page on Wikipedia\">\n        <span className=\"material-icons-outlined\">link</span>\n      </a>\n    </div>\n  </>);\n}\n\nexport default Article;\n","import { useSelector, useDispatch } from \"react-redux\";\n\nfunction Settings() {\n  const settings = useSelector(state => state.settings);\n  const dispatch = useDispatch();\n  const updateSettings = (e) => {\n    const { key, value } = e;\n    dispatch({type: \"settings/set\", payload: {\n      key,\n      value\n    }});   \n  }\n  return (<>\n    <form>\n      <label htmlFor=\"repulsion\">Nodes repulsion:</label>\n      <input\n        type=\"range\"\n        name=\"repulsion\"\n        id=\"repulsion\"\n        max=\"10000\"\n        min=\"0\"\n        onChange={ (e) => {\n          updateSettings({\n            key: \"nodeRepulsion\",\n            value: parseInt(e.target.value)*-1\n          })\n        }}\n        value={settings.nodeRepulsion*-1} />\n      <label htmlFor=\"curvature\">Link curvature:</label>\n      <input\n        type=\"range\"\n        name=\"curvature\"\n        id=\"curvature\"\n        max=\"3\"\n        min=\"0\"\n        step=\"0.05\"\n        onChange={ (e) => {\n          updateSettings({\n            key: \"curvature\",\n            value: parseFloat(e.target.value)\n          })\n        }}\n        value={settings.curvature} />\n      <label htmlFor=\"showarrows\">Show links arrows:</label>\n      <input\n        type=\"checkbox\"\n        name=\"showarrows\"\n        id=\"showarrows\"\n        onChange={ (e) => {\n          updateSettings({\n            key: \"arrows\",\n            value: e.target.checked ? 1:0\n          })\n        }}\n        checked={!!settings.arrows} />\n    </form>\n  </>);\n}\n\nexport default Settings;\n","import { useSelector } from \"react-redux\";\nimport React, { useState, useEffect } from \"react\";\n\nfunction Category(props) {\n  const {\n    id,\n    action,\n  } = props;\n\n  const worker = useSelector(state => state.worker);\n  const [node,setNode] = useState({ adjacent: [] });\n\n  const focus = (node) => {\n    action({ action: \"focusNode\", options: { node }});\n  }\n  const catMembers = (entity) => {\n    return node.adjacent.filter(e => e.entity === entity).map(sub => {\n      return (<li key={ sub.id } onClick={ () => { focus(sub) } }>\n        { (entity === \"category\")\n            ? sub.name.split(\":\").slice(1).join(\":\")\n            : sub.name }\n      </li>)\n    });\n  }\n\n  useEffect(() => {\n    if ((worker.message.node) && (worker.message.node.id === id)) {\n      setNode(worker.message.node);\n    }\n  },[worker.message]);\n\n  useEffect(() => {\n    worker.entity.postMessage({ action: \"getNode\", options: { id }});\n  },[id]);\n\n  return (<>\n    <article>\n      { (node.adjacent.filter(e => e.entity === \"category\").length > 0)\n        ? (<details open={true}>\n            <summary>Categories:</summary>\n            <ul>\n              { catMembers(\"category\") }\n            </ul>\n          </details>)\n        : (<></>)\n      }\n      { (node.adjacent.filter(e => e.entity === \"article\").length > 0)\n        ? (<details open={true}>\n            <summary>Pages:</summary>\n            <ul>\n              { catMembers(\"article\") }\n            </ul>\n          </details>)\n        : (<></>)\n      }\n    </article>\n    <div className=\"buttons\">\n      <button title=\"Expand node\" onClick={ () => {\n        action( { action: \"categoriesLookup\", options: { cmpageid: id } });\n      }}>\n        <span className=\"material-icons-outlined\">zoom_out_map</span>\n      </button>\n      <button title=\"Delete node\" onClick={ () => {\n        action( { action: \"removeNode\", options: { id } });\n      }}>\n        <span className=\"material-icons-outlined\">delete</span>\n      </button>\n    </div>\n  </>);\n}\n\nexport default Category;\n","import { ForceGraph3D } from \"react-force-graph\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport WikiAPI from \"../wikiApi.js\";\n\nlet api;\n\nconst Graph = (props) => {\n  const dispatch = useDispatch();\n  const [idle, setIdle] = useState(false);\n  const [graphData, setGraphData] = useState({ nodes: [], links: [] });\n  const [highlight, setHighlight] = useState({ nodes: [], edges: [] });\n\n  const worker = useSelector(state => state.worker.entity);\n  const message = useSelector(state => state.worker.message);\n\n  const searchString = useSelector(state => state.init.searchString);\n  const lang = useSelector(state => state.init.lang);\n\n  const drawerAction = useSelector(state => state.drawer.action);\n\n  const nodeRepulsion = useSelector(state => state.settings.nodeRepulsion);\n  const curvature = useSelector(state => state.settings.curvature);\n  const bloom = useSelector(state => state.settings.bloom);\n  const arrows = useSelector(state => state.settings.arrows);\n\n  const timer = useRef(null);\n  const fgRef = useRef();\n\n  const workerDispatch = (options) => {\n    worker.postMessage({\n      action: \"dispatch\",\n      options\n    });\n  }\n\n  const workerCallback = (options) => {\n    worker.postMessage({\n      action: \"lookupCallback\",\n      options\n    });\n  }\n\n  const createNode = async (title) => {\n    const url = api.buildRequest({\n      action: \"query\",\n      list: \"search\",\n      srsearch: title,\n      srnamespace: 0,\n      srlimit: 1\n    })[0].url;\n    let results = await fetch(url);\n    results = await results.json();\n    results = results.query.search[0];\n    workerDispatch({ type: \"nodes/create\", payload: {\n      id: results.pageid,\n      entity: (results.ns === 0) ? \"article\" : \"category\",\n      name: results.title\n    }});\n    articlesLookup({\n      pageids: [results.pageid]\n    },true);\n    return;\n  }\n  const removeNode = (id) => {\n    workerDispatch({ type: \"nodes/remove\", payload: { id }});\n  }\n  const removeEdge = async (id) => {\n    workerDispatch({ type: \"edges/unlink\", payload: { id }});\n    workerDispatch({ type: \"edges/remove\", payload: { id }});\n  }\n  const categoriesLookup = (options) => {\n    options.action = \"query\";\n    options.list = \"categorymembers\";\n    options.cmlimit = 5;\n    options.cmtype = [\"page\", \"subcat\"];\n    lookup(options, \"categoryMembers\");\n    workerDispatch({ type: \"nodes/loaded\", payload: { id: options.cmpageid } });\n  }\n  const articlesLookup = (options, init=false) => {\n    options.action = \"query\";\n    const lhOptions = { ...options };\n    const plOptions = { ...options };\n    const clOptions = { ...options };\n    lhOptions.prop = \"info\";\n    lhOptions.generator = \"linkshere\";\n    lhOptions.glhlimit = 500;\n    lhOptions.glhnamespace = 0;\n\n    plOptions.gpllimit = 500;\n    plOptions.gplnamespace = 0;\n    plOptions.generator = \"links\";\n    plOptions.prop = \"info\";\n\n    clOptions.gcllimit = 500;\n    clOptions.generator = \"categories\";\n    clOptions.prop = \"info\";\n    clOptions.gclshow = \"!hidden\";\n  \n    /*for (let e of */[\n      [clOptions, \"categoriesList\"],\n      [plOptions, \"pageLinks\"],\n      [lhOptions, \"linksHere\"],\n    ]/*) {\n      lookup(e[0],e[1]);\n    }*/.forEach(e => {\n      lookup(e[0],e[1]);\n    });\n    let ids = options.pageids;\n    if (typeof ids !== \"object\") {\n      ids = [ids];\n    }\n    ids.forEach(id => {\n      workerDispatch({ type: \"nodes/loaded\", payload: { id } });\n    });\n  }\n  const lookup = (options, callback) => {\n    const getResults = async (generator, callback, id) => {\n      let results = (await generator.next()).value;\n      if (typeof results === \"undefined\") {\n        return;\n      }\n      delete results.redirects;\n      results = results[Object.keys(results)[0]];\n      workerCallback({ callback, id, results });\n      getResults(generator, callback, id);\n    }\n    api.buildRequest(options).forEach(r => {\n      const resultsGenerator = api.fetchAndContinue(r.url);\n      getResults(resultsGenerator, callback, r.pageid || r.cmpageid);\n    });\n  }\n\n  const focusNode = (node) => {\n    node = graphData.nodes.find(e => e.id === node.id);\n    const distance = 80;\n    const distRatio = 1 + distance/Math.hypot(node.x, node.y, node.z);\n\n    fgRef.current.cameraPosition(\n      { x: node.x * distRatio, y: node.y * distRatio, z: node.z * distRatio }, // new position\n      node, // lookAt ({ x, y, z })\n      1500  // ms transition duration\n    );\n    dispatch({type: \"drawer/content\", payload: {\n      component: node.entity,\n      title: node.name,\n      id: node.id\n    }});\n  }\n\n  const nodeHover = (id) => {\n    const adjacent = graphData.nodes.find(e => e.id === id).adjacent;\n    setHighlight({\n      edges: adjacent.map(e => e.edgeId),\n      nodes: [...adjacent.map(e => e.id), id]\n    });\n  }\n\n  useEffect(() => {\n// eslint-disable-next-line no-undef\n    //~ let z = new SharedArrayBuffer(2048)\n    //~ console.error(\"sab\",z);\n\n    const wikiAPI = new WikiAPI(lang); \n    api = wikiAPI;\n    createNode(searchString);\n    //~ graphWorker.onmessage = (e) => {\n      //~ setGraphData(e.data);\n    //~ }\n  },[]);\n\n  useEffect(() => {\n    if (message.state) {\n      clearTimeout(timer.current);\n      timer.current = setTimeout(() => {\n        //~ graphWorker.postMessage({\n          //~ oldNodes: JSON.stringify(graphData.nodes),\n          //~ newState: message.state\n        //~ });\n        worker.postMessage({\n          action: \"getGraph\",\n          options: {\n            oldNodes: JSON.stringify(graphData.nodes)\n          }\n        });\n      }, 12);\n    } else if (message.graph) {\n      setGraphData(message.graph);\n    } else if (message.articlesLookup) {\n      articlesLookup(message.articlesLookup);\n    }\n  },[message]);\n\n  useEffect(() => {\n    const actionInput = drawerAction;\n    if (!actionInput.action) {\n      return;\n    }\n    const action = actionInput.action;\n    const options = actionInput.options;\n    switch (action) {\n      case \"addSearch\":\n        createNode(options.searchString);\n        return;\n      case \"articlesLookup\":\n        articlesLookup(options);\n        return;\n      case \"removeNode\":\n        removeNode(options.id);\n        return;\n      case \"focusNode\":\n        focusNode(options.node);\n        return;\n      case \"categoriesLookup\":\n        categoriesLookup(options);\n        return;\n      default:\n        return;\n    }\n  }, [drawerAction]);\n  \n  useEffect(() => {\n    fgRef.current.d3Force(\"charge\").strength(nodeRepulsion);\n    if (idle) {\n      fgRef.current.d3ReheatSimulation();\n    }\n  },[nodeRepulsion]);\n\n  return (\n    <ForceGraph3D\n      onEngineStop={ () => { setIdle(true) } }\n      linkOpacity={1}\n      linkColor={ (e) => {\n          if (highlight.edges.includes(e.id)) {\n            return \"#fbfbf2ff\";\n          }\n          return \"#fbfbf240\";\n        }\n      }\n      linkCurvature={ curvature }\n      onNodeHover={ (e) => { \n          if (e === null) {\n            setHighlight({ nodes: [], edges: []});\n            return;\n          }\n          nodeHover(e.id);\n        }\n      }\n      onNodeClick={ focusNode }\n      ref={fgRef}\n      nodeColor={ e => {\n          if (highlight.nodes.includes(e.id)) {\n            return \"#fbfbf2\";\n          }\n          return (e.entity === \"category\") ? \"#ea526f\":\"#1b5299\"\n        }\n      }\n      linkDirectionalArrowLength={ arrows }\n      linkDirectionalArrowRelPos={1}\n      nodeOpacity={ .99 }\n      backgroundColor=\"rgba(0,0,0,0)\"\n      graphData={ graphData }\n    />\n  )\n  //~ return (<></>)\n}\n\nexport default Graph;\n","import React, { useState } from \"react\";\nimport SearchInput from \"../search-input.js\";\n\nconst AddSearch = (props) => {\n  const {\n    lang,\n    handleSubmit\n  } = props;\n  const [searchString,setSearchString] = useState(\"\");\n  const submit = (event) => {\n    event.preventDefault();\n    console.log(searchString);\n    handleSubmit({ searchString });\n  }\n  return (\n    <form onSubmit={ submit }>\n      <SearchInput id=\"drawer\" handleChanges={ setSearchString } lang={lang}/>\n      <button className=\"btn\" onClick={ submit }>\n        <span className=\"material-icons-outlined\">search</span>Search\n      </button>\n    </form>\n  );\n}\n\nexport default AddSearch;\n","import Locate from \"./drawer-views/locate.js\";\nimport Article from \"./drawer-views/article.js\";\nimport Settings from \"./drawer-views/settings.js\";\nimport Category from \"./drawer-views/category.js\";\nimport AddSearch from \"./drawer-views/addSearch.js\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nconst Drawer = (props) => {\n  const dispatch = useDispatch();\n  const lang = useSelector(state => state.init.lang);\n  const content = useSelector(state => state.drawer.content);\n  const handleActions = (e) => {\n    dispatch({type: \"drawer/action\", payload: e});\n  }\n\n  const getContent = () => {\n    if (Object.keys(content).length === 0) {\n      return;\n    }\n    switch (content.component) {\n      case \"locate\":\n        return (<Locate action={ handleActions } />);\n      case \"settings\":\n        return (<Settings />);\n      case \"addSearch\":\n        return (<AddSearch lang={ lang } handleSubmit={\n          (e) => {\n            handleActions({\n              action: \"addSearch\",\n              options: e\n            });\n          }\n        } />)\n      case \"article\":\n        return (<Article lang={ lang } id={ content.id } action={ handleActions } />);\n      case \"category\":\n        return (<Category id={ content.id } action={ handleActions } />);\n      default:\n        return (<></>)\n    }\n  }\n  return (\n    <aside\n      id=\"drawer\"\n      className={ Object.keys(content).length === 0 ? \"hidden\":\"\" }>\n        <header>\n        <h2>\n          { content.title }\n        </h2>\n        <button className=\"closebtn\" title=\"Close drawer\" onClick={ () => handleActions(\"closeDrawer\") }>\n          <span className=\"material-icons-outlined\">close</span>\n        </button>\n        </header>\n        <main>\n          { getContent() }\n        </main>\n    </aside>\n  )\n};\nexport default Drawer;\n","import { useDispatch } from \"react-redux\";\n\nconst ToolBar = (props) => {\n  const dispatch = useDispatch();\n  const handleActions = (e) => {\n    dispatch({ type: \"drawer/content\", payload: e });\n  }\n  const clearAll = () => {\n    if (!window.confirm(`This will clear all your graph and bring you back to the initial search form.\nAre you sure?`)) {\n      return;\n    }\n    dispatch( { reset: true, type:\"reset\" } );\n  }\n  return (\n    <aside id=\"toolbar\">\n      <button\n        title=\"perform a new search to complete the graph\"\n        onClick={ () => {\n          handleActions({\n            component: \"addSearch\",\n            title: \"Add new node\"\n          })\n        }}\n      >\n        <span className=\"material-icons-outlined\">zoom_in</span>\n      </button>\n      <button title=\"search for a node on the graph\"\n        onClick={ () => {\n          handleActions({\n            component: \"locate\",\n            title: \"Locate a node\"\n          });\n        }}\n      >\n        <span className=\"material-icons-outlined\">location_searching</span>\n      </button>\n      <button\n        title=\"clear all & start from scratch\"\n        onClick={ clearAll }\n      >\n        <span className=\"material-icons-outlined\">refresh</span>\n      </button>\n      <button title=\"fine tune your graph\"\n        onClick={ () => {\n          handleActions({\n            component: \"settings\",\n            title: \"Settings\"\n          });\n        }}\n      >\n        <span className=\"material-icons-outlined\">settings</span>\n      </button>\n      <button title=\"what am I seeing? help!\">\n        <span className=\"material-icons-outlined\">support</span>\n      </button>\n    </aside>\n  )\n};\nexport default ToolBar;\n","import React, { useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Splash from \"./components/splash.js\";\nimport Drawer from \"./components/drawer.js\";\nimport ToolBar from \"./components/toolbar.js\";\nimport Graph from \"./components/graph.js\";\nimport \"./index.css\";\nconst worker = (process.env.NODE_ENV === \"development\") ? new Worker(\"/mainWorker.js\") : new Worker(\"/wiki-tree/mainWorker.js\");\n\nfunction App() {\n  const init = useSelector(state => state.init);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (init.start === true) {\n      worker.postMessage({\n        action: \"dispatch\",\n        options: { type: \"reset\" }\n      });\n    }\n  },[init.start])\n  \n  useEffect(() => {\n    dispatch({ type: \"worker/entity\", payload: worker });\n    worker.onmessage = (e) => {\n      dispatch({ type: \"worker/message\", payload: e.data });\n    };\n  },[]);\n  \n  return (\n    <main className=\"App\">\n      <Splash />\n      {\n        ((init.start === true)\n          && (init.lang !== \"\")\n          && (init.searchString !== \"\"))\n          && (\n        <>\n          <Graph />\n          <ToolBar />\n        </>\n        )\n      }\n      <Drawer />\n    </main>\n  );\n}\n\nexport default App;\n","const initReducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case \"init/set\":\n      return {\n        ...state,\n        [payload.key]: payload.value\n      }\n    case \"init/start\":\n      return {\n        ...state,\n        start: true\n      };\n    default:\n      return state;\n  }\n}\nexport default initReducer\n","const workerReducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  if (type === \"worker/entity\") {\n    return {\n      ...state,\n      entity: payload\n    }\n  } else if (type === \"worker/message\") {\n    return {\n      ...state,\n      message: payload\n    }\n  }\n  return state;\n}\n\nexport default workerReducer;\n","const drawerReducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  switch (type) {\n    case \"drawer/action\":\n      if (payload === \"closeDrawer\") {\n        return {\n          ...state,\n          content: {},\n          action: payload\n        }\n      }\n      return {\n        ...state,\n        action: payload\n      }\n    case \"drawer/content\":\n      return {\n        ...state,\n        content: payload\n      }\n    default:\n      return state;\n  }\n}\nexport default drawerReducer\n","const settingsReducer = (state, action) => {\n  const {\n    type,\n    payload\n  } = action;\n  if (type === \"settings/set\") {\n    if (state[payload.key] === payload.value) {\n      return state;\n    }\n    return {\n      ...state,\n      [payload.key]: parseFloat(payload.value),\n    }\n  }\n  return state;\n}\n\nexport default settingsReducer;\n","import initReducer from \"./reducers/init.js\";\nimport workerReducer from \"./reducers/worker.js\";\nimport drawerReducer from \"./reducers/drawer.js\";\nimport settingsReducer from \"./reducers/settings.js\";\n\nconst initialState = {\n  init: {\n    start: false,\n    lang: navigator.language.split(\"-\")[0] || \"en\",\n    searchString: \"\"\n  },\n  drawer: {\n    content: {},\n    action: {}\n  },\n  settings: {\n    bloom: 0,\n    arrows: 0,\n    nodeRepulsion: -50,\n    curvature: 0\n  },\n  worker: {\n    postMessage: () => {},\n    message: {}\n  }\n}\n/*\n * https://github.com/vasturiano/react-force-graph/blob/master/example/click-to-focus/index.html\n * + cr√©er un statut \"focus\" pour les nodes et les edges adjacents\n * + g√©rer les duplex / input / output edges\n */\nexport default function rootReducer(state = initialState, action) {\n  if (action.reset) {\n    console.warn(\"RESET\");\n    state = {...state,\n      init: initialState.init,\n      settings: initialState.settings,\n      drawer: initialState.drawer,\n    };\n  }\n  return {\n    init: initReducer(state.init, action),\n    drawer: drawerReducer(state.drawer, action),\n    worker: workerReducer(state.worker, action),\n    settings: settingsReducer(state.settings, action)\n  }\n}\n","import { createStore } from 'redux'\nimport rootReducer from './reducer.js'\n\nconst store = createStore(rootReducer)\n\nexport default store\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\"\nimport store from \"./store.js\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}